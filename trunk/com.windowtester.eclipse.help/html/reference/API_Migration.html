<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content=
"HTML Tidy for Mac OS X (vers 2 April 2007), see www.w3.org" />
<meta http-equiv="Content-Type" content=
"text/html; charset=us-ascii" />
<title>API Migration</title>
<link rel="stylesheet" type="text/css" href=
"../../stylesheets/book.css" />
</head>

<body><h2>Legacy API Migration</h2><p>This document provides a high-level description of WindowTester Pro API deprecated or removed in <strong>WindowTester Pro v5.0</strong>.</p><ol style="list-style: none;"><li><a href="#Overview">Overview</a></li><li><a href="#APIMigrationTooling">API Migration Tooling</a></li><li><a href="#assert">Improved Assertions</a><ol style="list-style: none;"><li><a href="#NewlocatorcloseAPI">New locator close API</a></li><li><a href="#NewlocatorfocusAPI">New locator focus API</a></li></ol></li><li><a href="#APIChangeSummary">API Change Summary</a><ol style="list-style: none;"><li><a href="#MovedAPItypes">Moved API types</a></li><li><a href="#MovedInternaltypes">Moved Internal types </a></li><li><a href="#DeprecatedMethods">Deprecated Methods</a></li><li><a href="#RemovedMethods">Removed Methods</a></li></ol></li></ol><h3 id="Overview">Overview</h3><p>WindowTester Pro v. 5.0 includes a number of API breaking changes.  The rationale and preamble to these changes is described in this separate <a href="Legacy_API_Phase_Out.html">document</a>.  The following sections describe the specific changes made and the tooling we have provide to help make this transition painless to end-users.</p><h3 id="APIMigrationTooling">API Migration Tooling</h3><p>WindowTester Pro contributes API migration tools to the IDE.  To convert API, select a project, package or Java resource and choose the <strong>WindowTester Pro Tools  &gt; Convert to new WindowTester Pro API</strong> action from the context menu.</p><p><img style=" " border="0" src="convert.png"/></p><p>Before your code is updated you can preview (and selectively apply) the proposed changes.</p><p><img style=" " border="0" src="convert_wizard.png"/></p><p>If you want to roll-back the refactoring, simply  select <strong>Undo Convert to new WindowTester Pro API</strong> from the <strong>Edit</strong> menu.</p><p><img style=" " border="0" src="undo_convert.png"/></p><p>If you experience any issues when using the migration tooling, please do not hesitate to contact support.</p><h3 id="assert">Improved Assertions</h3><p>With 5.0 come a number of improvements to our assertion support.</p><h4 id="NewlocatorcloseAPI">New locator close API</h4><p>The <code>IUIContext.close(..)</code> method has been removed in favor of a more type-safe, robust and expressive idiom for closing UI entities.  The new way of closing is to leverage the <strong>isClosed()</strong> condition factory on supporting locators.  For example, ensuring that the &#8220;Welcome&#8221; view is closed is now as simple as saying:</p><pre><code>ui.ensureThat(ViewLocator.forName("Welcome").isClosed());
</code></pre><p></p><p>or, using static imports (and the <code>EclipseLocators</code> factory class):</p><pre><code>ui.ensureThat(view("Welcome").isClosed());
</code></pre><p></p><p>For more on assertions, please see this <a href="assertions.html">overview</a>.</p><h4 id="NewlocatorfocusAPI">New locator focus API</h4><p>The <code>IUIContext.setFocus(..)</code> method has been removed in favor of the more expressive <strong>hasFocus()</strong> condition factory defined on appropriate locators.  Ensuring that a widget has focus is now as easy as this:</p><pre><code>ui.ensureThat(new ShellLocator("My RCP").hasFocus());
</code></pre><p></p><p>If you are interested in <em>workbench</em> focus, the following idiom is preferred </p><pre><code>ui.ensureThat(new WorkbenchLocator().hasFocus());
</code></pre><p></p><p>or, using static imports (and the <code>EclipseLocators</code> factory class):</p><pre><code>ui.ensureThat(workbench().hasFocus());
</code></pre><p></p><h3 id="APIChangeSummary">API Change Summary</h3><h4 id="MovedAPItypes">Moved API types</h4><p>The following table summarizes API types whose packages have changed.</p><table style="border:1px solid black"><tr><th style="text-align: left;">old location</th><th style="text-align: left;">new location</th></tr><tr style="background:#ddd"><td><code>com.windowtester.runtime.swt.experimental.locator.ActiveEditorLocator</code> </td><td><code>com.windowtester.runtime.swt.locator.eclipse.ActiveEditorLocator</code> </td></tr><tr><td><code>com.windowtester.swt.util.DebugHelper</code> </td><td><code>com.windowtester.runtime.swt.util.DebugHelper</code> </td></tr><tr style="background:#ddd"><td><code>junit.extensions.UITestCase</code> </td><td><code>com.windowtester.runtime.swt.UITestCaseSWT</code> </td></tr><tr><td><code>junit.extensions.UITestCaseSWT</code> </td><td><code>com.windowtester.runtime.swt.UITestCaseSWT</code> </td></tr><tr style="background:#ddd"><td><code>junit.extensions.UITestCaseSwing</code> </td><td><code>com.windowtester.runtime.swing.UITestCaseSwing</code> </td></tr><tr><td><code>com.windowtester.runtime.swt.finder.UnableToFindActiveShellException</code> </td><td><code>com.windowtester.runtime.swt.UnableToFindActiveShellException</code> </td></tr></table><h4 id="MovedInternaltypes">Moved Internal types </h4><p>In addition to migrated <strong>API</strong> types, a number of <strong>internal</strong> classes have moved as well.  If your tests are referencing these classes please contact support and we will help you find a preferred solution.</p><table style="border:1px solid black"><tr><th style="text-align: left;">old location</th><th style="text-align: left;">new location</th></tr><tr style="background:#ddd"><td><code>com.windowtester.swt.util.ExceptionHandlingHelper</code> </td><td><code>com.windowtester.runtime.swt.internal.ExceptionHandlingHelper</code> </td></tr><tr><td><code>com.windowtester.event.swt.text.InsertTextEntryStrategy</code> </td><td><code>com.windowtester.runtime.swt.internal.text.InsertTextEntryStrategy</code> </td></tr><tr style="background:#ddd"><td><code>com.windowtester.event.swt.text.ITextEntryStrategy</code> </td><td><code>com.windowtester.runtime.swt.internal.text.ITextEntryStrategy</code> </td></tr><tr><td><code>com.windowtester.event.swt.text.TextEntryStrategy</code> </td><td><code>com.windowtester.runtime.swt.internal.text.TextEntryStrategy</code> </td></tr><tr style="background:#ddd"><td><code>com.windowtester.swt.util.PathStringTokenizerUtil</code> </td><td><code>com.windowtester.runtime.swt.internal.util.PathStringTokenizerUtil</code> </td></tr><tr><td><code>com.windowtester.swt.util.TextUtils</code> </td><td><code>com.windowtester.runtime.swt.internal.util.TextUtils</code> </td></tr><tr style="background:#ddd"><td><code>com.windowtester.swt.WidgetLocatorService</code> </td><td><code>com.windowtester.runtime.swt.internal.finder.WidgetLocatorService</code> </td></tr><tr><td><code>com.windowtester.finder.swt.ShellFinder</code> </td><td><code>com.windowtester.runtime.swt.internal.finder.ShellFinder</code> </td></tr></table><h4 id="DeprecatedMethods">Deprecated Methods</h4><p>The <code>IUIContext.pause(int)</code> method has been deprecated in favor of declaring a wait for a proper condition using <code>IUIContext.wait(ICondition)</code>.   In this approach, time-based waits are supported  with the new <code>TimeElapsedCondition</code> condition type.</p><h4 id="RemovedMethods">Removed Methods</h4><p>Two methods have been removed from the <code>IUIContext</code> interface in favor of more expressive constructs using conditions. See the <a href="#assert">Improved Assertions</a> documentation for more details.</p><table style="border:1px solid black"><tr><th style="text-align: left;">removed methods</th></tr><tr style="background:#ddd"><td><del><code>IUIContext.close(ILocator locator)</code></del></td></tr><tr><td><del><code>IUIContext.setFocus(ILocator locator)</code></del></td></tr></table></body></html>